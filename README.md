# Retro Fortress 2 (GoldSrc Edition)

Retro Fortress 2 — это фанатский проект, представляющий собой попытку перенести атмосферу и механики Team Fortress 2 на легендарный движок **GoldSrc** (тот самый, на котором работали Half-Life, Counter-Strike 1.6 и Day of Defeat). Игра разрабатывается в духе «что если бы TF2 вышла в начале 2000-х?» и сочетает ностальгическую эстетику низкополигональных моделей с динамичными сражениями и командным геймплеем.

## Ключевые особенности

- **GoldSrc-стилистика** — визуальный стиль выдержан в духе ранних игр Valve: низкополигональная графика, яркая цветовая палитра и простые, но выразительные анимации.
- **Классический набор классов TF2** — в проекте планируются все девять знакомых классов (Scout, Soldier, Pyro, Demoman, Heavy, Engineer, Medic, Sniper и Spy) с адаптированными под возможности движка наборами оружия и способностей.
- **Физика и механики GoldSrc** — ощущение от движения, стрельбы и взаимодействия с окружением ближе к оригинальному Half-Life, что делает геймплей более «олдскульным» и требовательным к навыкам.
- **Мультиплеер через Half-Life Dedicated Server** — предполагается поддержка как LAN-сражений, так и публичных серверов, совместимых с инфраструктурой классических GoldSrc-игр.
- **Модульная архитектура** — код проекта стремится быть модульным, чтобы сообщество моддеров могло проще создавать собственные режимы, карты и косметические дополнения.

## Структура репозитория

```
retro-fortress-2-goldsrc/
├── CMakeLists.txt                  # Конфигурация сборки (серверный и клиентский модули)
├── include/
│   └── retro_fortress/
│       ├── common/                 # Общие заголовки, в т.ч. минимальные заглушки GoldSrc API
│       └── server/                 # Логика игрового менеджера, классов и команд
├── src/
│   ├── client/                     # Клиентский модуль (HUD, обработка команд)
│   ├── common/                     # Общие реализации
│   └── server/                     # Серверный мод (инициализация, правила игры)
└── README.md
```

Директории `models/`, `maps/`, `sound/` и другие ресурсы GoldSrc будут добавлены по мере готовности контента. Текущая структура обеспечивает минимально работоспособный каркас модификации: серверная библиотека (`retrofortress2`) и клиентская библиотека (`cl_retrofortress2`).

## Сборка

Минимальные требования:

- CMake 3.20+
- Компилятор с поддержкой C++20 (GCC 11+, Clang 13+, MSVC 19.30+)

Сборка на любой платформе выполняется стандартно:

```bash
cmake -S . -B build
cmake --build build
```

Результатом будут динамические библиотеки:

- `build/librf2_server.so` (Linux) или `build/retrofortress2.dll` (Windows) — серверный мод для каталога `Half-Life/retrofortress2/dlls`.
- `build/librf2_client.so` (Linux) или `build/cl_retrofortress2.dll` (Windows) — клиентский мод для каталога `Half-Life/retrofortress2/cl_dlls`.

Для интеграции с Half-Life SDK необходимо заменить соответствующие библиотеки в структуре модификации и зарегистрировать мод в `liblist.gam` (будет добавлено позже).

## Состояние разработки

Проект находится в активной разработке энтузиастами. На данный момент:

- реализован базовый серверный каркас, инициализирующий две команды (RED/BLU) и девять классов с тестовыми лоадаутами;
- реализован клиентский каркас, который выводит диагностические сообщения через интерфейсы GoldSrc;
- добавлены заглушки для ключевых GoldSrc API, позволяющие собирать проект без полного Half-Life SDK;
- готовится интеграция с реальными заголовками и функциями движка, ресурсами карт и моделей.

## Планируемый контент

- **Игровые режимы:** захват флага (CTF), контрольные точки, нагрузка (Payload) в упрощённом варианте, арена и дуэли.
- **Карты:** переработанные версии любимых карт TF2, а также новые карты, разработанные специально для GoldSrc.
- **Косметика:** в духе ранних версий TF2, акцент на читаемость силуэтов и командных цветов.
- **Саундтрек:** ретро-аранжировки знакомых мелодий TF2 в 8-bit и ранне-2000х стилях.

## Как поучаствовать

Мы приветствуем вклад сообщества! Если вы хотите присоединиться:

1. **Изучите кодовую базу** — проект построен на основе Half-Life SDK; полезно освежить знания о структуре GoldSrc-модов.
2. **Присоединяйтесь к обсуждению** — следите за новостями и общайтесь с командой в Discord/форуме проекта (ссылки появятся позже).
3. **Вносите изменения** — исправляйте баги, создавайте карты, модели и звуки.
4. **Тестируйте** — мы нуждаемся в обратной связи по балансу, стабильности и производительности.

Перед тем как отправлять pull request, ознакомьтесь с рекомендациями по оформлению коммитов и руководством по коду (будут добавлены позднее).

## FAQ

**Зачем переносить TF2 на GoldSrc?**
Это эксперимент: проверить, как бы выглядела и ощущалась Team Fortress 2, если бы она была продолжением классических модов начала 2000-х, а также возможность дать вторую жизнь старому движку.

**Будет ли игра бесплатной?**
Проект создаётся фанатами и распространяется бесплатно. Для запуска потребуется лицензия на Half-Life (Steam или оригинальная CD-версия).

**Поддерживается ли Source/GoldSrc-совместимость?**
Цель — сохранить узнаваемый геймплей TF2, но движок накладывает ограничения. Многие механики будут адаптированы, а не полностью повторены.

**Можно ли портировать уже существующие TF2-ресурсы?**
Часть моделей и текстур можно упростить и адаптировать, но чаще всего требуются переработанные версии, оптимизированные под GoldSrc (ограничение по полигонам, размеру текстур, количеству костей в скелете и т.д.).

## Полезные ресурсы

- [Half-Life SDK](https://github.com/ValveSoftware/halflife) — официальный исходный код, лежащий в основе большинства GoldSrc-модов.
- [Valve Developer Community](https://developer.valvesoftware.com/wiki/Main_Page) — документация по созданию модов для GoldSrc и Source.
- [TF2 Wiki](https://wiki.teamfortress.com/wiki/Main_Page) — информация о классах, оружии и лоре оригинальной Team Fortress 2.
- [Sven Co-op SDK](https://www.svencoop.com/) — пример расширенного моддинга на базе GoldSrc.

## Лицензия

Лицензия проекта будет уточнена по мере развития; исходный код публикуется исключительно в образовательных и фанатских целях. Все торговые марки принадлежат их владельцам, а Retro Fortress 2 не является коммерческим продуктом и не связан напрямую с Valve Corporation.

---

Спасибо за интерес к Retro Fortress 2! Следите за обновлениями и помогайте нам воплотить мечту о ретро-версии любимого командного шутера.

